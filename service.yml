name: vscode
lang: node
lang_version: 18.12.0
git:
  enable: true
  hooks:
    enable: true
github:
  enable: true
codeowners:
  enable: true
semaphore:
  enable: true
  status_level: block
  pipeline_enable: false
  triggers: ["branches", "pull_requests"]
  tasks:
    - name: prerelease-multi-arch-packaging
      branch: main
      pipeline_file: ".semaphore/prerelease-multi-arch-packaging.yml"
      parameters:
        - name: TARGET_BRANCH
          required: true
          default_value: "main"
          description: The target branch to create the release from, must be a valid branch.
        - name: COMMIT_SHA
          required: true
          description: |
            The commit SHA to create the release and tag from.
    - name: release-version
      branch: main
      pipeline_file: ".semaphore/release-version.yml"
      parameters:
        - name: IS_PRERELEASE
          required: true
          options:
            - "true"
            - "false"
          default: "true"
          description: |
            Whether the release is a pre-release (true/false)
        - name: TARGET_BRANCH
          required: true
          default_value: "main"
          description: The target branch to create the release from, must be a valid branch.
        - name: RELEASE_NAME
          required: true
          description: |
            The name of the GitHub Release (and tag) to create (e.g., 'v1.2.3'). NOTE: Do not include '-pre' suffixes for prereleases; instead, set the IS_PRERELEASE parameter to true and it will be added automatically.
        - name: COMMIT_SHA
          required: true
          description: |
            The commit SHA to create the release and tag from, must be a valid SHA/tag/branch.
        - name: PREVIOUS_RELEASE_TAG
          required: false
          description: |
            The previous release tag (e.g., 'v1.2.2') to compare against when generating release notes. If not provided, will use the latest (non-prerelease) GitHub Release.
    - name: run-playwright-e2e-tests
      branch: main
      pipeline_file: ".semaphore/playwright-e2e.yml"
      parameters:
        - name: VSCODE_VERSION
          required: true
          description: The version of VS Code to test against (e.g., 'stable', 'insiders', or a specific version like '1.100.0').
          default_value: "stable"
        - name: TEST_SUITE
          required: false
          description: The test name or tag(s) (pipe-separated, e.g. `@ccloud|@direct`) to run. If not specified, will run all E2E tests.
    - name: scheduled-prerelease-multi-arch-packaging
      branch: main
      pipeline_file: ".semaphore/prerelease-multi-arch-packaging.yml"
      scheduled: true
      at: "10 4 * * *" # Every day at 04:10 UTC
    - name: scheduled-ccloud-auth-smoketests-prod
      branch: main
      pipeline_file: ".semaphore/ccloud-auth-smoketests.yml"
      scheduled: true
      at: "0 * * * *" # Every hour
      parameters:
        - name: CCLOUD_BASE_PATH
          default_value: confluent.cloud
          description: The Confluent Cloud environment to use for CCloud requests.
          required: true
    - name: scheduled-ccloud-auth-smoketests-stag
      branch: main
      pipeline_file: ".semaphore/ccloud-auth-smoketests.yml"
      scheduled: true
      at: "0 4 * * *" # Every day at 04:00 UTC
      parameters:
        - name: CCLOUD_BASE_PATH
          default_value: stag.cpdev.cloud
          description: The Confluent Cloud environment to use for CCloud requests.
          required: true
    - name: scheduled-run-playwright-e2e-tests
      branch: main
      pipeline_file: ".semaphore/playwright-e2e.yml"
      scheduled: true
      at: "0 5 * * *" # Every day at 05:00 UTC
      parameters:
        - name: VSCODE_VERSION
          required: true
          description: The version of VS Code to test against (e.g., 'stable', 'insiders', or a specific version like '1.100.0').
          default_value: "stable"
        - name: TEST_SUITE
          required: true
          description: The test tag(s) (pipe-separated, e.g. `@smoke|@topic-message-viewer`) to run. By default, runs the smoke tests and critical user flow tests.
          default_value: "@smoke|@topic-message-viewer|@evolve-schema|@produce-message-to-topic|@project-scaffolding|@flink-statements|@direct-connection-crud"
sonarqube:
  enable: false
make:
  enable: false
renovatebot:
  enable: false
