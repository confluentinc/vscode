---
openapi: 3.0.0
info:
  title: SQL API v1
  version: 0.0.1
  contact:
    name: Flink
    url: https://confluent.slack.com/app_redirect?channel=flink-ccloud
    email: flink-control-plane@confluent.io
  x-api-id: a19bfe13-af66-493b-930a-5b7664bf52b7
  x-audience: external-public
  x-tag-group: SQL API (%s)
  x-api-group: sql/v1

servers:
  - url: https://flink.region.provider.confluent.cloud
    description: Flink Compute Pool Endpoint

paths:
  # Connections API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/connections:
    x-lifecycle-stage: Preview
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1Connections
      summary: List of Connections
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a sorted, filtered and paginated list of all Connections.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: spec.connection_type
          in: query
          required: false
          schema:
            type: string
            x-extensible-enum: [AZUREML, AZUREOPENAI, A2A, ANTHROPIC, BEDROCK, CONFLUENT_JDBC, COSMOSDB, COUCHBASE, ELASTIC,
                                FIREWORKSAI, GOOGLEAI, MCP_SERVER, MONGODB, OPENAI, PINECONE, REST, S3VECTORS, SAGEMAKER, VERTEXAI]
          description: Filter the results by exact match for spec.connection_type
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            default: 10
            maximum: 100
            x-max-page-items: 500
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
      tags:
        - Connections (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: Connections.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.ConnectionList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    post:
      x-lifecycle-stage: Preview
      x-self-access: false
      x-request-access-name: SQL API v1
      operationId: createSqlv1Connection
      summary: Create a Connection
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to create a Connection.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
      tags:
        - Connections (sql/v1)
      security:
        - resource-api-key: []
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Connection'
                - type: object
                  required:
                    - spec
                    - name
                  properties:
                    spec:
                      type: object
                      required:
                        - endpoint
                        - connection_type
                        - auth_data

      responses:
        '201':
          description: A Connection has been successfully created.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
            Location:
              schema:
                type: string
                format: uri
                example: https://flink.region.provider.confluent.cloud/sql/v1/organizations/{organization_id}/environments/{environment_id}/connections/{name}
              description: Connection resource uri
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Connection'
                  - type: object
                    required:
                      - spec
                    properties:
                      spec:
                        type: object
                        required:
                          - endpoint
                          - connection_type
                          - auth_data
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  /sql/v1/organizations/{organization_id}/environments/{environment_id}/connections/{connection_name}:
    x-lifecycle-stage: Preview
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1Connection
      summary: Read a Connection
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to read a Connection.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: connection_name
          in: path
          required: true
          schema:
            type: string
          description: The user provided name of the Connection. Unique within a region within an org and env.
      tags:
        - Connections (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: Connection.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Connection'
                  - type: object
                    required:
                      - api_version
                      - kind
                      - metadata
                      - spec
                    properties:
                      spec:
                        type: object
                        required:
                          - connection_type
                          - endpoint
                          - auth_data
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    delete:
      x-lifecycle-stage: Preview
      x-self-access: false
      x-request-access-name: SQL API v1
      operationId: deleteSqlv1Connection
      summary: Delete a Connection
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to delete a statement.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: connection_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the connection.
      tags:
        - Connections (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: A Connection has been deleted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    put:
      x-lifecycle-stage: Preview
      x-self-access: false
      x-request-access-name: SQL API v1
      operationId: updateSqlv1Connection
      summary: Update a Connection
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to update a connection.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: connection_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the connection.
      tags:
        - Connections (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: A Connection has been updated.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Connection'
                - type: object
                  required:
                    - spec
                    - name
                    - metadata
                  properties:
                    spec:
                      type: object
                      required:
                        - auth_data
                    metadata:
                      type: object
                      required:
                        - resource_version

  # Statement Results API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/statements/{name}/results:
    x-lifecycle-stage: General Availability
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1StatementResult
      summary: Read Statement Result
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Read Statement Result.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: It contains the field offset in the CollectSinkFunction protocol. On the first request, it should be unset. The offset is assumed to start at 0.
      tags:
        - Statement Results (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: Statement Result.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.StatementResult'
                  - type: object
                    required:
                      - api_version
                      - kind
                      - metadata
                      - results
                    properties:
                      results:
                        type: object
                        required:
                          - data
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # Statements API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/statements:
    x-lifecycle-stage: General Availability
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1Statements
      summary: List of Statements
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a sorted, filtered, paginated list of all statements.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: spec.compute_pool_id
          in: query
          required: false
          schema:
            type: string
          example: lfcp-00000
          description: |-
            Filter the results by exact match for spec.compute_pool_id.
            When creating statements, if compute_pool_id is not specified, the statement will use the default compute pool. The default pool is automatically determined by the system.
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            default: 10
            maximum: 100
            x-max-page-items: 500
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
        - name: label_selector
          in: query
          required: false
          schema:
            type: string
          style: form
          explode: false
          description: A comma-separated label selector to filter the statements.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: Statements.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.StatementList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    post:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: createSqlv1Statement
      summary: Create a Statement
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to create a statement.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Statement'
                - type: object
                  required:
                    - spec
                    - name
                  properties:
                    spec:
                      type: object
                      required:
                        - statement

      responses:
        '201':
          description: A Statement is being created.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
            Location:
              schema:
                type: string
                format: uri
                example: https://flink.region.provider.confluent.cloud/sql/v1/organizations/{organization_id}/environments/{environment_id}/statements/{name}
              description: Statement resource uri
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Statement'
                  - type: object
                    required:
                      - spec
                      - status
                    properties:
                      spec:
                        type: object
                        required:
                          - statement_name
                          - statement
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/statements/{statement_name}:
    x-lifecycle-stage: General Availability
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1Statement
      summary: Read a Statement
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to read a statement.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: statement_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: Statement.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Statement'
                  - type: object
                    required:
                      - api_version
                      - kind
                      - metadata
                      - spec
                      - status
                    properties:
                      spec:
                        type: object
                        required:
                          - statement_name
                          - statement
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    delete:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: deleteSqlv1Statement
      summary: Delete a Statement
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to delete a statement.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: statement_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '202':
          description: A Statement is being deleted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    put:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: updateSqlv1Statement
      summary: Update a Statement
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to update a statement.
        The request will fail with a 409 Conflict error if the Statement has changed since it was fetched.
        In this case, do a GET, reapply the modifications, and try the update again.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: statement_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '202':
          description: A Statement is being updated.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Statement'
                - type: object
                  required:
                    - spec
                    - name
                    - metadata
                  properties:
                    spec:
                      type: object
                      required:
                        - stopped
                    metadata:
                      type: object
                      required:
                        - resource_version
    patch:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: patchSqlv1Statement
      summary: Patch a Statement
      description: |-
        [![Early Access](https://img.shields.io/badge/Lifecycle%20Stage-Early%20Access-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to patch a statement.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: statement_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
      tags:
        - Statements (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        content:
          application/json-patch+json:
            schema:
              $ref: '#/components/schemas/PatchRequest'
      responses:
        '200':
          description: Patched Statement.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Statement'
                  - type: object
                    required:
                      - spec
                      - status
                    properties:
                      spec:
                        type: object
                        required:
                          - statement_name
                          - statement
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # Exceptions API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/statements/{statement_name}/exceptions:
    x-lifecycle-stage: General Availability
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: General Availability
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1StatementExceptions
      summary: List of Statement Exceptions
      description: |-
        [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a list of the 10 most recent statement exceptions.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: statement_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the statement.
      tags:
        - Statement Exceptions (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: Statement Exceptions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.StatementExceptionList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # List Materialized Tables
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/materialized-tables:
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1MaterializedTables
      summary: List all materialized tables
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)
        
        Retrieve a sorted and paginated list of all materialized tables.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 10
            maximum: 100
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
      tags:
        - Materialized Tables (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: A list of Materialized Tables.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.MaterializedTableList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # Create a materialized table
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/materialized-tables:
    post:
      x-lifecycle-stage: Preview
      operationId: createSqlv1MaterializedTable
      summary: Create a materialized table
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Create a new Materialized Table.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
      tags:
        - Materialized Tables (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.MaterializedTable'
                - type: object
                  required:
                    - name
                    - spec
                  properties:
                    spec:
                      type: object
                      required:
                        - query
      responses:
        '201':
          description: Materialized Table is being created
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
            Location:
              schema:
                type: string
                format: uri
                example: https://flink.region.provider.confluent.cloud/sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/materialized-tables/{table_name}
              description: Materialized Table uri
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.MaterializedTable'
                  - type: object
                    required:
                      - spec
                      - status
                    properties:
                      spec:
                        type: object
                        required:
                          - query
                          - compute_pool_id
                          - principal
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
  # Get, Update, and Delete a specific Materialized Table
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/materialized-tables/{table_name}:
    get:
      x-lifecycle-stage: Preview
      operationId: getSqlv1MaterializedTable
      summary: Read a materialized table
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a specific Materialized Table by name.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: table_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Materialized Table
      tags:
        - Materialized Tables (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: The requested Materialized Table.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.MaterializedTable'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    put:
      x-lifecycle-stage: Preview
      operationId: updateSqlv1MaterializedTable
      summary: Update/Evolve a materialized table
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to update a Materialized Table's mutable fields.
        Mutable fields include: `query`, `stopped`, `compute_pool_id`, and `principal`.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: table_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Materialized Table
      tags:
        - Materialized Tables (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        description: The Materialized Table resource with updated spec fields.
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.MaterializedTable'
                - type: object
                  required:
                    - spec
                    - name
                    - metadata
                  properties:
                    metadata:
                      type: object
                      required:
                        - resource_version
      responses:
        '201':
          description: Materialized Table update accepted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.MaterializedTable'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    delete:
      x-lifecycle-stage: Preview
      operationId: deleteSqlv1MaterializedTable
      summary: Delete a materialized table
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Delete a specific Materialized Table by name.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: table_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Materialized Table
      tags:
        - Materialized Tables (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '202':
          description: A Materialized Table is being deleted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # Materialized Table Versions API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/materialized-tables/{table_name}/versions:
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1MaterializedTableVersions
      summary: List all the versions of a materialized table
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a sorted and paginated list of all versions for a specific Materialized Table.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - in: path
          name: table_name
          required: true
          schema:
            type: string
          description: The unique identifier for the Materialized Table.
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 10
            maximum: 100
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
      tags:
        - Materialized Table Versions (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: A list of Materialized Table Versions.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.MaterializedTableVersionList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/materialized-tables/{table_name}/versions/{version}:
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1MaterializedTableVersion
      summary: Read a materialized table version
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a specific version of a Materialized Table.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - in: path
          name: table_name
          required: true
          schema:
            type: string
          description: The unique identifier for the Materialized Table.
        - in: path
          name: version
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
          description: The version number of the Materialized Table.
      tags:
        - Materialized Table Versions (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: The requested Materialized Table Version.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.MaterializedTableVersion'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
  # List Agents
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/agents:
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1Agents
      summary: List all agents
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)
        
        Retrieve a sorted and paginated list of all agents.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            format: int32
            default: 10
            maximum: 100
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
      tags:
        - Agents (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: A list of Agents.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.AgentList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  # Create an agent
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/agents:
    post:
      x-lifecycle-stage: Preview
      operationId: createSqlv1Agent
      summary: Create an Agent
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to create an Agent.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
      tags:
        - Agents (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Agent'
                - type: object
                  required:
                    - name
                    - spec
                  properties:
                    spec:
                      type: object
                      required:
                        - model
                        - prompt
      responses:
        '200':
          description: Agent.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
            Location:
              schema:
                type: string
                format: uri
                example: https://flink.region.provider.confluent.cloud/sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/agents/{agent_name}
              description: Agent uri
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Agent'
                  - type: object
                    required:
                      - name
                      - spec
                    properties:
                      spec:
                        type: object
                        required:
                          - model
                          - prompt
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
  # Get, Update, and Delete a specific Agent
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{kafka_cluster_id}/agents/{agent_name}:
    get:
      x-lifecycle-stage: Preview
      operationId: getSqlv1Agent
      summary: Read an Agent
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a specific Agent by name.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: agent_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Agent
      tags:
        - Agents (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: The requested Agent.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.Agent'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    put:
      x-lifecycle-stage: Preview
      operationId: updateSqlv1Agent
      summary: Alter an Agent
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to update an Agent's mutable fields.
        Mutable fields include: `description`, `model`, `prompt`, and `properties`.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: agent_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Agent
      tags:
        - Agents (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      requestBody:
        description: The Agent resource with updated spec fields.
        required: true
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Agent'
                - type: object
                  required:
                    - spec
                    - name
                    - metadata
                  properties:
                    metadata:
                      type: object
                      required:
                        - resource_version
      responses:
        '200':
          description: Agent has been updated.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.Agent'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    delete:
      x-lifecycle-stage: Preview
      operationId: deleteSqlv1Agent
      summary: Delete an Agent
      description: |
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

        Delete a specific Agent by name.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: kafka_cluster_id
          required: true
          schema:
            type: string
          description: The unique identifier for the database.
        - name: agent_name
          in: path
          required: true
          schema:
            type: string
          description: The unique identifier for the Agent
      tags:
        - Agents (sql/v1)
      security:
        - resource-api-key: []
        - external-access-token: []
      responses:
        '200':
          description: A Agent has been deleted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'


  # Tools API
  /sql/v1/organizations/{organization_id}/environments/{environment_id}/tools:
    x-lifecycle-stage: Preview
    x-self-access: true
    x-request-access-name: SQL API v1
    post:
      x-lifecycle-stage: Preview
      x-self-access: false
      x-request-access-name: SQL API v1
      operationId: createSqlv1Tool
      summary: Create a Tool
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to create a Tool.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
      tags:
        - Tools (sql/v1)
      security:
        - resource-api-key: []
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - $ref: '#/components/schemas/sql.v1.Tool'
                - type: object
                  required:
                    - name
                    - spec
                  properties:
                    spec:
                      type: object
                      required:
                        - connection

      responses:
        '201':
          description: A Tool has been successfully created.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
            Location:
              schema:
                type: string
                format: uri
                example: https://flink.region.provider.confluent.cloud/sql/v1/organizations/{organization_id}/environments/{environment_id}/tools/{name}
              description: Tool resource uri
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Tool'
                  - type: object
                    required:
                      - name
                      - spec
                    properties:
                      spec:
                        type: object
                        required:
                          - connection
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{database_name}/tools:
    x-lifecycle-stage: Preview
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: listSqlv1Tools
      summary: List of Tools
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Retrieve a sorted, filtered, paginated list of all Tools.
      parameters:
        - in: path
          name: organization_id
          required: true
          schema:
            type: string
            format: uuid
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - in: path
          name: database_name
          required: true
          schema:
            type: string
          description: The name of the database.
        - name: page_size
          in: query
          required: false
          schema:
            type: integer
            default: 10
            maximum: 100
            x-max-page-items: 500
          description: A pagination size for collection requests.
        - name: page_token
          in: query
          required: false
          schema:
            type: string
            maxLength: 255
          description: An opaque pagination token for collection requests.
      tags:
        - Tools (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: Tools.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/sql.v1.ToolList'
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

  /sql/v1/organizations/{organization_id}/environments/{environment_id}/databases/{database_name}/tools/{tool_name}:
    x-lifecycle-stage: Preview
    x-self-access: true
    x-request-access-name: SQL API v1
    get:
      x-lifecycle-stage: Preview
      x-self-access: true
      x-request-access-name: SQL API v1
      operationId: getSqlv1Tool
      summary: Read a Tool
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to read a Tool.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: database_name
          in: path
          required: true
          schema:
            type: string
          description: The name of the database.
        - name: tool_name
          in: path
          required: true
          schema:
            type: string
          description: The user provided name of the Tool.
      tags:
        - Tools (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: Tool.
          content:
            application/json:
              schema:
                allOf:
                  - $ref: '#/components/schemas/sql.v1.Tool'
                  - type: object
                    required:
                      - api_version
                      - kind
                      - metadata
                      - name
                      - spec
                    properties:
                      spec:
                        type: object
                        required:
                          - connection
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'
    delete:
      x-lifecycle-stage: Preview
      x-self-access: false
      x-request-access-name: SQL API v1
      operationId: deleteSqlv1Tool
      summary: Delete a Tool
      description: |-
        [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

        Make a request to delete a Tool.
      parameters:
        - in: path
          name: organization_id
          schema:
            type: string
            format: uuid
          required: true
          description: The unique identifier for the organization.
        - in: path
          name: environment_id
          required: true
          schema:
            type: string
          description: The unique identifier for the environment.
        - name: database_name
          in: path
          required: true
          schema:
            type: string
          description: The name of the database.
        - name: tool_name
          in: path
          required: true
          schema:
            type: string
          description: The user provided name of the Tool.
      tags:
        - Tools (sql/v1)
      security:
        - resource-api-key: []
      responses:
        '200':
          description: A Tool has been deleted.
          headers:
            X-Request-Id:
              schema:
                type: string
              description: The unique identifier for the API request.
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthenticatedError'
        '403':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '429':
          $ref: '#/components/responses/RateLimitError'
        '500':
          $ref: '#/components/responses/DefaultSystemError'

components:
  schemas:
    sql.v1.MaterializedTable:
      type: object
      description: Represents a Materialized Table resource.
      required:
        - api_version
        - kind
        - metadata
        - name
        - organization_id
        - environment_id
        - spec
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - MaterializedTable
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/ObjectMeta'
            - type: object
              properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/databases/lkc-123/materialized-tables/high-value-orders
                uid:
                  example: 12345678-1234-1234-1234-123456789012
                resource_version:
                  example: a23av
                resource_name:
                  example: ""
                labels:
                  type: object
                  additionalProperties:
                    type: string
        name:
          type: string
          description: The user-provided name of the resource, unique within this environment.
          pattern: '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'
          maxLength: 100
          example: "high-value-orders"
          x-immutable: true
        organization_id:
          type: string
          format: uuid
          description: The unique identifier for the organization.
          x-immutable: true
          readOnly: true
        environment_id:
          type: string
          description: The unique identifier for the environment.
          x-immutable: true
          readOnly: true
        spec:
          $ref: '#/components/schemas/sql.v1.MaterializedTableSpec'
        status:
          readOnly: true
          allOf:
            - $ref: '#/components/schemas/sql.v1.MaterializedTableStatus'

    sql.v1.MaterializedTableList:
      type: object
      description: A list of Materialized Table resources.
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          readOnly: true
        kind:
          type: string
          enum:
            - MaterializedTableList
          readOnly: true
        metadata:
          $ref: '#/components/schemas/ListMeta'
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            $ref: '#/components/schemas/sql.v1.MaterializedTable'
          uniqueItems: true

    sql.v1.MaterializedTableSpec:
      type: object
      description: The specifications of the Materialized Table.
      properties:
        kafka_cluster_id:
          type: string
          description: The ID of Kafka cluster hosting the Materialized Table's topic. Populated from the `kafka_cluster_id` path parameter on creation.
          example: "lkc-12345"
          readOnly: true # Populated from path
        compute_pool_id:
          type: string
          description: |-
            The id associated with the compute pool in context.
            If not specified, the materialized table will use the default compute pool. The default pool is automatically determined by the system.
          example: "lfcp-123"
        principal:
          type: string
          description: The id of a principal this Materialized Table query runs as.
          example: "sa-abc123"
          maxLength: 255
        stopped:
          type: boolean
          description: Indicates whether the Materialized Table query should be stopped.
          example: false
        table_options:
          type: object
          description: Defines configuration properties for the table, equivalent to the SQL 'WITH' clause
          additionalProperties:
            type: string
          maxProperties: 8192
        session_options:
          type: object
          description: Session configurations equivalent to the SQL 'SET' statement.
          additionalProperties:
            type: string
          maxProperties: 8192
        columns:
          type: array
          description: Details of each column in Materialized Table resource. If columns are not specified, we infer from query. If it's specified it must be compatible with the types in the query.
          items:
            $ref: '#/components/schemas/sql.v1.MaterializedTableColumnDetails'
        watermark:
          $ref: '#/components/schemas/sql.v1.MaterializedTableWatermark'
        constraints:
          type: array
          description: Specify table constraints.
          items:
            $ref: '#/components/schemas/sql.v1.MaterializedTableConstraint'
        distributed_by:
          $ref: '#/components/schemas/sql.v1.MaterializedTableDistribution'
        query:
          type: string
          description: Contains the query section (usually starting with a SELECT) of the latest Materialized Table.
          example: "SELECT user_id, product_id, price, quantity FROM orders WHERE price > 1000;"
          maxLength: 131072

    sql.v1.MaterializedTableStatus:
      type: object
      description: The status of the Materialized Table.
      properties:
        phase:
          type: string
          x-extensible-enum: [PENDING, RUNNING, COMPLETED, DELETING, FAILING, FAILED, CREATING, ALTERING, DEGRADED, STOPPING, STOPPED]
          description: The lifecycle phase of the materialized table.
          example: RUNNING
        detail:
          type: string
          description: Optional. Human-readable description of phase.
          example: "Materialized table is running."
        warnings:
          type: array
          description: List of warnings encountered during materialized table execution.
          items:
            $ref: '#/components/schemas/sql.v1.MaterializedTableWarning'
        creation_statement:
          type: string
          description: Entire Materialized Table statement as submitted by user e.g CREATE OR ALTER MATERIALIZED TABLE ...
          example: "CREATE OR ALTER MATERIALIZED TABLE high-value-orders AS SELECT user_id, product_id, price, quantity FROM orders WHERE price > 1000;"
        scaling_status:
          $ref: '#/components/schemas/sql.v1.ScalingStatus'
        version:
          type: integer
          format: int32
          minimum: 1
          description: Represents the evolution history of the Materialized Table. The current value indicates the latest version.
          example: 3

    sql.v1.MaterializedTableVersion:
      type: object
      description: Represents a specific version of a Materialized Table resource.
      required:
        - api_version
        - kind
        - metadata
        - name
        - organization_id
        - environment_id
        - spec
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - MaterializedTableVersion
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/ObjectMeta'
            - type: object
              properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-123/environments/env-123/databases/lkc-123/materialized-tables/high-value-orders/versions/4
        name:
          type: string
          description: |
            The resource version name, unique within the Kafka cluster.
            Name conforms to DNS Subdomain (RFC 1123).
          pattern: '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'
          maxLength: 100
          example: "mt-123-v4"
          readOnly: true
        organization_id:
          type: string
          format: uuid
          description: The unique identifier for the organization.
          x-immutable: true
          readOnly: true
        environment_id:
          type: string
          description: The unique identifier for the environment.
          x-immutable: true
          readOnly: true
        spec:
          $ref: '#/components/schemas/sql.v1.MaterializedTableVersionSpec'

    sql.v1.MaterializedTableVersionList:
      type: object
      description: A list of Materialized Table Version resources.
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          readOnly: true
        kind:
          type: string
          enum:
            - MaterializedTableVersionList
          readOnly: true
        metadata:
          $ref: '#/components/schemas/ListMeta'
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            $ref: '#/components/schemas/sql.v1.MaterializedTableVersion'
          uniqueItems: true

    sql.v1.MaterializedTableVersionSpec:
      type: object
      description: The specifications of the Materialized Table Version.
      required:
        - version
        - statement
      properties:
        version:
          type: integer
          format: int32
          minimum: 1
          description: The version number of the Materialized Table.
          example: 4
          readOnly: true
        statement:
          type: string
          description: |
            The full SQL statement for the materialized table as generated by SHOW CREATE MATERIALIZED TABLE at the time of the evolution.
          example: "CREATE OR ALTER MATERIALIZED TABLE orders AS SELECT user_id, product_id, price FROM orders;"
          readOnly: true
          maxLength: 131072
        changes:
          type: array
          description: Changes affecting resources since the previous version.
          items:
            $ref: '#/components/schemas/sql.v1.ResourceChange'
          readOnly: true

    sql.v1.ResourceChange:
      type: object
      description: Details of a change to a specific resource.
      required:
        - kind
        - environment_locator
        - database_locator
        - name
        - details
      properties:
        kind:
          type: string
          x-extensible-enum: [MATERIALIZED_TABLE, TABLE, VIEW, FUNCTION]
          description: The type of resource that was changed.
          example: MATERIALIZED_TABLE
        environment_locator:
          type: string
          description: The environment containing the resource. Can be either the environment name or ID, depending on how it is referenced in the SQL statement text.
          example: "env-abc"
        database_locator:
          type: string
          description: The database containing the resource. Can be either the database name or ID, depending on how it is referenced in the SQL statement text.
          example: "lkc-123"
        name:
          type: string
          description: The name of the resource, unique within its scope (environment and database).
          example: "orders"
        details:
          type: array
          description: Human-readable descriptions of the changes made to this resource.
          items:
            type: string
          example: ["Column 'product_name: VARCHAR' added", "Column 'product_id: BIGINT' added"]
      readOnly: true

    sql.v1.MaterializedTableColumnDetails:
      type: object
      description: Details of a column in the Materialized Table.
      discriminator:
        propertyName: kind
        mapping:
          Physical: '#/components/schemas/sql.v1.PhysicalColumn'
          Metadata: '#/components/schemas/sql.v1.MetadataColumn'
          Computed: '#/components/schemas/sql.v1.ComputedColumn'
      oneOf:
        - $ref: '#/components/schemas/sql.v1.PhysicalColumn'
        - $ref: '#/components/schemas/sql.v1.MetadataColumn'
        - $ref: '#/components/schemas/sql.v1.ComputedColumn'

    sql.v1.ColumnCommon:
      type: object
      required:
        - name
        - type
      properties:
        name:
          type: string
          description: The name of the column.
        type:
          $ref: '#/components/schemas/DataType'
        comment:
          type: string
          description: A comment or description for the column.

    sql.v1.PhysicalColumn:
      description: Physical columns define the structure of the table and the data types of its fields.
      allOf:
        - $ref: '#/components/schemas/sql.v1.ColumnCommon'
        - type: object
          required:
            - kind
          properties:
            name:
              example: user_id
            type:
              example:
                type: "BIGINT"
                nullable: false
            kind:
              type: string
              description: The kind of column.
              enum: [Physical]
              example: Physical

    sql.v1.MetadataColumn:
      description: Metadata columns reference system properties.
      allOf:
        - $ref: '#/components/schemas/sql.v1.ColumnCommon'
        - type: object
          required:
            - kind
            - metadata_key
          properties:
            name:
              example: table_offset
            type:
              example:
                type: "BIGINT"
                nullable: false
            kind:
              type: string
              description: The kind of column.
              enum: [Metadata]
              example: Metadata
            metadata_key:
              type: string
              description: The system metadata key to reference.
              example: "offset"
            virtual:
              type: boolean
              description: Indicates if the metadata column is virtual.
              default: false
              example: true

    sql.v1.ComputedColumn:
      description: Computed columns are generated via an expression.
      allOf:
        - $ref: '#/components/schemas/sql.v1.ColumnCommon'
        - type: object
          required:
            - kind
            - expression
          properties:
            name:
              example: total_price
            type:
              example:
                type: "DECIMAL"
                nullable: false
                precision: 10
                scale: 2
            kind:
              type: string
              description: The kind of column.
              enum: [Computed]
              example: Computed
            expression:
              type: string
              description: The SQL expression used to compute the column value.
              example: "quantity * price"
            virtual:
              type: boolean
              description: Indicates if the computed column is virtual.
              default: false
              example: true

    sql.v1.MaterializedTableWatermark:
      type: object
      description: Watermark strategy for the Materialized Table resource.
      properties:
        column_name:
          type: string
          example: "event_timestamp"
        expression:
          type: string
          example: "event_timestamp - INTERVAL '5' SECOND"

    sql.v1.MaterializedTableConstraint:
      type: object
      description: A constraint on the materialized table.
      properties:
        name:
          type: string
          example: "pk_orders"
        kind:
          type: string
          x-extensible-enum: [PRIMARY_KEY]
          description: The type of constraint.
          example: PRIMARY_KEY
        column_names:
          type: array
          items:
            type: string
          example: ["user_id", "product_id"]
        enforced:
          type: boolean
          description: Whether the constraint is enforced.
          default: false

    sql.v1.MaterializedTableDistribution:
      type: object
      description: Distribution (bucket by) strategy.
      properties:
        column_names:
          type: array
          items:
            type: string
          example: ["user_id"]
        buckets:
          type: integer
          format: int32
          minimum: 1
          default: 6
          description: The number of buckets.
          example: 12
    sql.v1.MaterializedTableWarning:
      type: object
      description: Represents a non-fatal issue encountered during materialized table processing.
      allOf:
        - $ref: '#/components/schemas/sql.v1.StatementWarning'

    sql.v1.Connection:
      type: object
      description: |-
        `Connection` models a reusable endpoint and auth token to authenticate the caller to
        use that endpoint.
        Only `OrganizationAdmins` and `EnvironmentAdmins` will have the permissions to create, update and delete `Connections`.
        `FlinkDevelopers` and `ModelResourceOwners` can later reference a `Connection` resource within their Model
        creation statements.
        The API allows you to list, create, read, and delete your connections.
        ## The Connections Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Connection" />
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - Connection
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/ObjectMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-abc/environments/env-123/connections/my-openai-connection
                uid:
                  example: 12345678-1234-1234-1234-123456789012
                resource_version:
                  example: a23av
                resource_name:
                  example: ""
        name:
          type: string
          example: my-openai-connection
          description: The user provided name of the resource, unique within this environment.
          pattern: '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'
          x-immutable: true
          maxLength: 100
        spec:
          $ref: '#/components/schemas/sql.v1.ConnectionSpec'
        status:
          $ref: '#/components/schemas/sql.v1.ConnectionStatus'

    sql.v1.ConnectionList:
      type: object
      description: |-
        `Connection` models a reusable endpoint and auth token to authenticate the caller to
        use that endpoint.
        Only `OrgAdmins` and `EnvAdmins` will have the permissions to create, update and delete `Connections`.
        `FlinkDevelopers` and `ModelResourceOwners` can later reference a `Connection` resource within their Model
        creation statements.
        The API allows you to list, create, read, and delete your connections.
        ## The Connection Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Connection" />
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - ConnectionList
        metadata:
          allOf:
            - $ref: '#/components/schemas/ListMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/connections
                first:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/connections
                last:
                  example: ""
                prev:
                  example: ""
                next:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/connections?page_token=UvmDWOB1iwfAIBPj6EYb
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            allOf:
              - $ref: '#/components/schemas/sql.v1.Connection'
              - type: object
                required:
                  - api_version
                  - kind
                  - metadata
                  - spec
                  - status
                  - name
                  - organization_id
                  - environment_id
                properties:
                  spec:
                    type: object
                    required:
                      - connection_type
                      - endpoint
          uniqueItems: true

    sql.v1.ConnectionStatus:
      type: object
      required:
        - phase
      description: The status of the Connection
      properties:
        phase:
          type: string
          x-extensible-enum: [ACTIVE, UNREACHABLE, INVALID_AUTH]
          description: |
            Describes the status of the connection:

            READY: The Connection is usable;

            UNREACHABLE: The Connection endpoint is unreachable;

            INVALID_AUTH: The Connection auth token is invalid;
          example: READY
          readOnly: true
        detail:
          type: string
          description: Details about why connection transitioned into a given status.
          example: 'Lookup failed: ai.openai.com'
          readOnly: true
      readOnly: true

    sql.v1.PlaintextProvider:
      type: object
      description: |
        Describes a sensitive piece of information passed in plaintext.

        Confluent only accepts authentication tokens of supported model providers from OrgAdmins and EnvAdmins.
        For now, only 'PlainText' provider is supported. It stores authentication token details as opaque bytes in an encrypted form.
        This option offers limited security as it only provides a single level of encryption.
      properties:
        kind:
          description: |
            Plaintext Provider Kind Type
          type: string
          enum: [PlaintextProvider]
          x-immutable: true
        data:
          description: |
            Authentication token in plaintext JSON string.
            For composite tokens, provide them as JSON.
            This is sensitive piece of information stored as opaque bytes in an encrypted form with single level of encryption.

            Scoped to an endpoint of a `Connection` resource.
          type: string
          format: byte

    sql.v1.ConnectionSpec:
      type: object
      description: Encapsulates the model provider access details
      properties:
        connection_type:
          type: string
          example: OPENAI
          description: The type of this connection.
          x-immutable: true
          x-extensible-enum: [AZUREML, AZUREOPENAI, A2A, ANTHROPIC, BEDROCK, CONFLUENT_JDBC, COSMOSDB, COUCHBASE, ELASTIC,
                              FIREWORKSAI, GOOGLEAI, MCP_SERVER, MONGODB, OPENAI, PINECONE, REST, S3VECTORS, SAGEMAKER, VERTEXAI]
        endpoint:
          type: string
          example: 'https://api.openai.com/v1/chat/completions'
          description: The endpoint that is used to run model inferencing.
          maxLength: 16384
          x-immutable: true
        auth_data:
          type: object
          description: |
            The vendor specific authentication token details

            The contents are stored as opaque bytes given in plaintext by an EnvAdmin.
            In future, we would support more secure methods for distributing authentication tokens.
          discriminator:
            propertyName: kind
            mapping:
              PlaintextProvider: '#/components/schemas/sql.v1.PlaintextProvider'
          oneOf:
            - $ref: '#/components/schemas/sql.v1.PlaintextProvider'
          x-immutable: false
      x-enable-listmeta: true
      x-enable-objectmeta: true


    sql.v1.Agent:
      type: object
      description: Represents an Agent resource.
      required:
        - api_version
        - kind
        - metadata
        - name
        - organization_id
        - environment_id
        - spec
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - Agent
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/ObjectMeta'
            - type: object
              properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/databases/lkc-123/agents/chat-listener-agent
                uid:
                  example: 12345678-1234-1234-1234-123456789012
                resource_version:
                  example: a23av
                resource_name:
                  example: ""
                labels:
                  type: object
                  additionalProperties:
                    type: string
        name:
          type: string
          description: The user-provided name of the agent, unique within this environment.
          pattern: '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'
          maxLength: 100
          example: "chat-listener-agent"
          x-immutable: true
        organization_id:
          type: string
          format: uuid
          description: The unique identifier for the organization.
          x-immutable: true
          readOnly: true
        environment_id:
          type: string
          description: The unique identifier for the environment.
          x-immutable: true
          readOnly: true
        spec:
          $ref: '#/components/schemas/sql.v1.AgentSpec'
        status:
          readOnly: true
          allOf:
            - $ref: '#/components/schemas/sql.v1.AgentStatus'

    sql.v1.AgentList:
      type: object
      description: A list of Agent resources.
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          readOnly: true
        kind:
          type: string
          enum:
            - AgentList
          readOnly: true
        metadata:
          $ref: '#/components/schemas/ListMeta'
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            $ref: '#/components/schemas/sql.v1.Agent'
          uniqueItems: true

    sql.v1.AgentSpec:
      type: object
      description: The specifications of the Agent.
      properties:
        description:
          type: string
          example: 'An agent that listens to chat messages and creates issues'
          description: The description of the agent.
        model:
          type: string
          example: chat_listener
          description: The name of the model the agent uses for inferencing.
        prompt:
          type: string
          example: Create an issue from the content using bebb0fa3-e084-412d-a000-b02280558318
            as the team ID
          description: The instruction prompt that guides the agent's behavior.
          maxLength: 65536
        tools:
          type: array
          description: The list of tools available to the agent.
          items:
            type: string
          example:
            - linear-mcp-tool
        properties:
          type: object
          description: A set of key-value option pairs that configure the agent's
            behavior.
          additionalProperties:
            type: string
          example:
            max_iterations: '5'

    sql.v1.AgentStatus:
      type: object
      description: The status of the Agent.
      properties:
        phase:
          type: string
          x-extensible-enum: [READY, RUNNING]
          description: |
            Describes the status of the agent:
            
            READY: The Agent is created;
            
            RUNNING: The Agent is created and running in a query;
          example: RUNNING

    sql.v1.ToolList:
      type: object
      description: |-
        `Tool` models a reusable tool resource backed by a connection that can be referenced
        by agents to perform actions.
        The API allows you to create your tools.
        ## The Tool Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Tool" />
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - ToolList
        metadata:
          allOf:
            - $ref: '#/components/schemas/ListMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-abc/environments/env-123/databases/my-database/tools
                first:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-abc/environments/env-123/databases/my-database/tools
                last:
                  example: ""
                prev:
                  example: ""
                next:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-abc/environments/env-123/databases/my-database/tools?page_token=UvmDWOB1iwfAIBPj6EYb
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            allOf:
              - $ref: '#/components/schemas/sql.v1.Tool'
              - type: object
                required:
                  - api_version
                  - kind
                  - metadata
                  - name
                  - spec
                  - status
                  - organization_id
                  - environment_id
                properties:
                  spec:
                    type: object
                    required:
                      - connection
          uniqueItems: true

    sql.v1.Tool:
      type: object
      description: |-
        `Tool` models a reusable tool resource backed by a connection that can be referenced
        by agents to perform actions.
        The API allows you to create your tools.
        ## The Tools Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Tool" />
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - Tool
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/ObjectMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/organizations/org-abc/environments/env-123/tools/linear-mcp-tool
                uid:
                  example: 12345678-1234-1234-1234-123456789012
                resource_version:
                  example: a23av
                resource_name:
                  example: ""
        name:
          type: string
          example: linear-mcp-tool
          description: The user provided name of the tool, unique within this environment.
          pattern: '[a-z0-9_]([-a-z0-9_]*[a-z0-9_])?'
          x-immutable: true
          maxLength: 100
        spec:
          $ref: '#/components/schemas/sql.v1.ToolSpec'
        status:
          $ref: '#/components/schemas/sql.v1.ToolStatus'

    sql.v1.ToolSpec:
      type: object
      description: The spec of the Tool
      properties:
        connection:
          type: string
          example: linear-mcp-connection-streamable
          description: The name of the connection this tool uses.
        options:
          type: object
          description: A set of key-value option pairs that configure the tool's behavior.
          additionalProperties:
            type: string
          example:
            type: 'mcp'
            allowed_tools: 'create_issue, list_issues'
            request_timeout: '30'
      x-enable-listmeta: true
      x-enable-objectmeta: true

    sql.v1.ToolStatus:
      type: object
      required:
        - phase
      description: The status of the Tool
      properties:
        phase:
          type: string
          x-extensible-enum: [ACTIVE, INACTIVE, ERROR]
          description: |
            Describes the status of the tool:

            ACTIVE: The Tool is usable;

            INACTIVE: The Tool is not currently active;

            ERROR: The Tool encountered an error;
          example: ACTIVE
          readOnly: true
        detail:
          type: string
          description: Details about why the tool transitioned into a given status.
          example: 'Tool is ready'
          readOnly: true
      readOnly: true

    sql.v1.Statement:
      type: object
      description: |-
        `Statement` represents a core resource used to model SQL statements for execution.
        A statement generalizes DDL, DML, DQL, etc., but doesnt attempt to handle session
        management or any higher-level functionality.
        The API allows you to list, create, read, and delete your statements.
        ## The Statements Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Statement" />
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
          readOnly: true
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - Statement
          readOnly: true
        metadata:
          allOf:
            - $ref: '#/components/schemas/StatementObjectMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements/my-statement
                uid:
                  example: 12345678-1234-1234-1234-123456789012
                resource_version:
                  example: a23av
                resource_name:
                  example: ""
                labels:
                  type: object
                  additionalProperties:
                    type: string
        name:
          type: string
          example: sql123
          description: The user provided name of the resource, unique within this environment.
          pattern: '[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*'
          x-immutable: true
          maxLength: 100
        organization_id:
          type: string
          format: uuid
          description: The unique identifier for the organization.
          x-immutable: true
        environment_id:
          type: string
          description: The unique identifier for the environment.
          x-immutable: true
        spec:
          $ref: '#/components/schemas/sql.v1.StatementSpec'
        status:
          $ref: '#/components/schemas/sql.v1.StatementStatus'
        result:
          $ref: '#/components/schemas/sql.v1.StatementResult'

    sql.v1.StatementStatus:
      type: object
      required:
        - phase
      description: The status of the Statement
      properties:
        phase:
          type: string
          x-extensible-enum: [PENDING, RUNNING, COMPLETED, DELETING, FAILING, FAILED, STOPPED]
          description: |
            The lifecycle phase of the submitted SQL statement:

            PENDING: SQL statement is pending execution;

            RUNNING: SQL statement execution is in progress;

            COMPLETED: SQL statement is completed;

            DELETING: SQL statement deletion is in progress;

            FAILING: SQL statement is failing;

            FAILED: SQL statement execution has failed;

            STOPPED: SQL statement execution has successfully been stopped;
          example: RUNNING
          readOnly: true
        scaling_status:
          $ref: '#/components/schemas/sql.v1.ScalingStatus'
        state_limit_status:
          $ref: '#/components/schemas/sql.v1.StateLimitStatus'
        detail:
          type: string
          description: Details about the execution status of this statement.
          example: Statement is running successfully
          readOnly: true
        warnings:
          type: array
          description: List of warnings encountered during statement execution.
          items:
            $ref: '#/components/schemas/sql.v1.StatementWarning'
          readOnly: true
        traits:
          $ref: '#/components/schemas/sql.v1.StatementTraits'
        network_kind:
          type: string
          x-extensible-enum: [PUBLIC, PRIVATE]
          description: |
            The networking type used by the submitted SQL statement:

            PUBLIC: SQL statement is using public networking;

            PRIVATE: SQL statement is using private networking;
          example: PUBLIC
          readOnly: true
        latest_offsets:
          type: object
          additionalProperties:
            type: string
          description: |
            The last Kafka offsets that a statement has processed. Represented by a mapping from Kafka topic to a
            string representation of partitions mapped to offsets.
          example:
            topic-1: partition:0,offset:100;partition:1,offset:200
            topic-2: partition:0,offset:50
          readOnly: true
        latest_offsets_timestamp:
          type: string
          format: date-time
          example: '2025-11-10T16:20:00Z'
          description: The date and time at which the Kafka topic offsets were added to the statement status.
            It is represented in RFC3339 format and is in UTC.
          readOnly: true
        end_time:
          type: string
          format: date-time
          example: '2025-03-19T01:02:03-04:05'
          description: |
            The date and time in UTC (represented as RFC3339 format) at which the statement reached its final terminal state. 
            This field is set when the Phase is COMPLETED, FAILED, or STOPPED.
            
            Note - The attribute is in a [Early Access lifecycle](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)
        duration:
          type: string
          format: duration
          example: 'PT2H30M'
          description: |
            The total elapsed time (represented as ISO 8601 format) from when the statement transitioned from 
            PENDING to RUNNING until it reached a final terminal state. This field is calculated and set when 
            the Phase is COMPLETED, FAILED, or STOPPED.
            
            Note - The attribute is in a [Early Access lifecycle](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)
        affected_resource:
          type: object
          description: |
            A reference to the resource created by this statement, if any. This field is set when a statement
            (e.g., CREATE MATERIALIZED TABLE) results in a new user-facing resource.

            Note - The attribute is in a [Early Access lifecycle](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)
          required:
            - kind
            - environment_id
            - resource_name
          properties:
            kind:
              type: string
              x-extensible-enum: [MATERIALIZED_TABLE]
              description: The kind of resource that was created.
              example: MATERIALIZED_TABLE
            environment_id:
              type: string
              description: The unique identifier for the environment containing the
                resource.
              example: env-abc
            database_id:
              type: string
              description: |
                The unique identifier for the database containing the resource.
                Only present for resource kinds that are scoped to a database.
              example: lkc-123
            resource_name:
              type: string
              description: The name of the created resource, unique within its scope.
              example: my-materialized-table
      readOnly: true
    MultipleSearchFilter:
      description: Filter a collection by a string search for one or more values
      type: array
      items:
        type: string
    SearchFilter:
      description: Filter a collection by a string search
      type: string

    sql.v1.StatementTraits:
      type: object
      description: StatementTraits contains detailed information about the properties of a Statement
      properties:
        sql_kind:
          type: string
          description:
            Categorizes the SQL statement. The result is Confluent-specific but inspired by SQL.
            It uses underscores for separating concepts e.g. "CREATE_TABLE".
          example: "SELECT"
        is_bounded:
          type: boolean
          description: Indicates the special case where results of a statement are bounded.
        is_append_only:
          type: boolean
          description: Indicates the special case where results of a statement are insert/append only.
        upsert_columns:
          type: array
          description: Defines the column indices clients can use as upsert keys.
          items:
            type: integer
        schema:
          $ref: '#/components/schemas/sql.v1.ResultSchema'
        connection_refs:
          type: array
          description: The names of connections that the SQL statement references (e.g., in FROM clauses).
          items:
            type: string
          example: ["my-postgres-connection", "my-kafka-connection"]
      readOnly: true

    sql.v1.StatementList:
      type: object
      description: |-
        `Statement` represents a core resource used to model SQL statements for execution.
        A statement generalizes DDL, DML, DQL, etc., but doesnt attempt to handle session
        management or any higher-level functionality.
        The API allows you to list, create, read, and delete your statements.
        ## The Statements Model
        <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Statement" />
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - StatementList
        metadata:
          allOf:
            - $ref: '#/components/schemas/ListMeta'
            - properties:
                self:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements
                first:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/statements
                last:
                  example: ""
                prev:
                  example: ""
                next:
                  example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/statements?page_token=UvmDWOB1iwfAIBPj6EYb
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            allOf:
              - $ref: '#/components/schemas/sql.v1.Statement'
              - type: object
                required:
                  - api_version
                  - kind
                  - metadata
                  - spec
                  - status
                  - name
                  - organization_id
                  - environment_id
                properties:
                  spec:
                    type: object
                    required:
                      - statement
          uniqueItems: true

    sql.v1.StatementResult:
      type: object
      description: |-
        `Statement Result` represents a resource used to model results of SQL statements.
        The API allows you to read your SQL statement result.
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - StatementResult
        metadata:
          allOf:
            - $ref: '#/components/schemas/ResultListMeta'
        results:
          allOf:
            - $ref: '#/components/schemas/sql.v1.StatementResultResults'

    sql.v1.StatementResultResults:
      type: object
      description: A results property that contains a data property that contains an array of results.
      properties:
        data:
          type: array
          description: |
            A data property that contains an array of results. Each entry in the array is a separate result.

            The value of `op` attribute (if present) represents the kind of change that a row can describe in a changelog:

            `0`: represents `INSERT` (`+I`), i.e. insertion operation;

            `1`: represents `UPDATE_BEFORE` (`-U`), i.e. update operation with the previous content of the updated row.
            This kind should occur together with `UPDATE_AFTER` for modelling an update that needs to retract
            the previous row first. It is useful in cases of a non-idempotent update, i.e., an update of a row that is not
            uniquely identifiable by a key;

            `2`: represents `UPDATE_AFTER` (`+U`), i.e. update operation with new content of the updated row;
            This kind CAN occur together with `UPDATE_BEFORE` for modelling an update that
            needs to retract the previous row first or it describes an idempotent update, i.e., an
            update of a row that is uniquely identifiable by a key;

            `3`: represents `DELETE` (`-D`), i.e. deletion operation;

            Defaults to `0`.

          items: {}
          example: [{"op": 0, "row": ["101", "Jay", [null, "abc"], [null, "456"], "1990-01-12 12:00.12", [[null, "Alice"], ["42", "Bob"]]]}]

    sql.v1.StatementSpec:
      type: object
      description: The specs of the Statement
      properties:
        statement:
          type: string
          example: SELECT * FROM TABLE WHERE VALUE1 = VALUE2;
          description: The raw SQL text statement.
          x-immutable: true
          maxLength: 131072  # 128KB * 1024bytes, assuming 1 char = 1 byte
        properties:
          type: object
          example:
            sql.current-catalog: my_environment
            sql.current-database: my_kafka_cluster
          description: A map (key-value pairs) of statement properties.
          additionalProperties:
            type: string
          maxProperties: 8192
        compute_pool_id:
          type: string
          example: fcp-00000
          description: |-
            The id associated with the compute pool in context. 
            If not specified, the statement will use the default compute pool. The default pool is automatically determined by the system.
          maxLength: 255
        principal:
          type: string
          example: sa-abc123
          description: The id of a principal this statement runs as.
          maxLength: 255
          x-immutable: true
        stopped:
          type: boolean
          description: Indicates whether the statement should be stopped.
          example: false
        execution_mode:
          type: string
          example: streaming
          description: |
            The execution mode of the statement.
            
            Note - The attribute is in a [Early Access lifecycle](https://docs.confluent.io/cloud/current/api.html#section/Versioning/API-Lifecycle-Policy)
          maxLength: 255
          readOnly: true
      x-enable-listmeta: true
      x-enable-objectmeta: true

    ObjectMeta:
      description: The metadata of the statement.
      required:
        - self
      properties:
        self:
          description: Self is a Uniform Resource Locator (URL) at which an object can be addressed. This URL encodes the
            service location, API version, and other particulars necessary to locate the resource at a point in time
          type: string
          format: uri
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements/my-statement
        created_at:
          type: string
          format: date-time
          example: '1996-03-19T01:02:03-04:05'
          description: The date and time at which this object was created. It is represented in RFC3339 format and is in UTC.
        updated_at:
          type: string
          format: date-time
          example: '2025-11-10T16:20:00Z'
          description: The date and time at which this object was last updated. It is represented in RFC3339 format and is
            in UTC.
        uid:
          type: string
          example: 12345678-1234-1234-1234-123456789012
          description: A system generated globally unique identifier for this resource.
        resource_version:
          type: string
          example: 'a23av'
          description: A system generated string that uniquely identifies the version of this resource.
      readOnly: true
    StatementObjectMeta:
      description: The metadata of the statement.
      required:
        - self
      properties:
        self:
          description: Self is a Uniform Resource Locator (URL) at which an object can be addressed. This URL encodes the
            service location, API version, and other particulars necessary to locate the resource at a point in time
          type: string
          format: uri
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements/my-statement
        created_at:
          type: string
          format: date-time
          example: '1996-03-19T01:02:03-04:05'
          description: The date and time at which this object was created. It is represented in RFC3339 format and is in UTC.
        updated_at:
          type: string
          format: date-time
          example: '2025-11-10T16:20:00Z'
          description: The date and time at which this object was last updated. It is represented in RFC3339 format and is
            in UTC.
        uid:
          type: string
          example: 12345678-1234-1234-1234-123456789012
          description: A system generated globally unique identifier for this resource.
        resource_version:
          type: string
          example: 'a23av'
          description: A system generated string that uniquely identifies the version of this resource.
        labels:
          type: object
          description: A map of key-value pairs that describe the resource.
          additionalProperties:
            type: string
          example:
            'user.confluent.io/hidden': 'true'
      readOnly: true

    ListMeta:
      type: object
      description: ListMeta describes metadata that resource collections may have
      properties:
        self:
          description: Self is a Uniform Resource Locator (URL) at which an object can be addressed. This URL encodes the
            service location, API version, and other particulars necessary to locate the resource at a point in time
          type: string
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements
        next:
          description: A URL that can be followed to get the next batch of results.
          type: string
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/statements?page_token=UvmDWOB1iwfAIBPj6EYb

    ResultListMeta:
      type: object
      description: ListMeta describes metadata that resource collections may have
      properties:
        self:
          description: Self is a Uniform Resource Locator (URL) at which an object can be addressed. This URL encodes the
            service location, API version, and other particulars necessary to locate the resource at a point in time
          type: string
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements
        next:
          description: A URL that can be followed to get the next batch of results.
          type: string
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-abc123/statements?page_token=UvmDWOB1iwfAIBPj6EYb
        created_at:
          type: string
          format: date-time
          example: '2006-01-02T15:04:05-07:00'
          readOnly: true
          description: The date and time at which this object was created. It is represented in RFC3339 format and is in UTC.

    sql.v1.ScalingStatus:
      description: Scaling status for this statement.
      type: object
      properties:
        scaling_state:
          description: |
            OK: The statement runs at the right scale.

            PENDING_SCALE_DOWN: The statement requires less resources, and will be scaled down in the near future.

            PENDING_SCALE_UP: The statement requires more resources, and will be scaled up in the near future.

            POOL_EXHAUSTED: The statement requires more resources, but not enough resources are available.
          example: OK
          readOnly: true
          type: string
          x-extensible-enum:
            - OK
            - PENDING_SCALE_DOWN
            - PENDING_SCALE_UP
            - POOL_EXHAUSTED
        last_updated:
          description: The last time the scaling status was updated.
          example: 1996-03-19T01:02:03-04:05
          format: date-time
          readOnly: true
          type: string
      readOnly: true

    sql.v1.StateLimitStatus:
      description: State limit status for this statement.
      properties:
        state_limit_state:
          description: |
            OK: The statement is within state limits.

            APPROACHING_SOFT_LIMIT: The statement is approaching soft state limits.

            EXCEEDING_SOFT_LIMIT: The statement is exceeding soft state limits.

            APPROACHING_HARD_LIMIT: The statement is approaching hard state limits.

            EXCEEDING_HARD_LIMIT: The statement is exceeding hard state limits.
          example: OK
          readOnly: true
          type: string
          x-extensible-enum:
            - OK
            - APPROACHING_SOFT_LIMIT
            - EXCEEDING_SOFT_LIMIT
            - APPROACHING_HARD_LIMIT
            - EXCEEDING_HARD_LIMIT
        last_updated:
          description: The last time the state limit status was updated.
          example: 1996-03-19T01:02:03-04:05
          format: date-time
          readOnly: true
          type: string
        detail:
          description: Details about why state limit status is in its current state.
          example: The statement is within state limits.
          type: string
          readOnly: true
      readOnly: true
      type: object

    sql.v1.ResultSchema:
      type: object
      description: "The table columns of the results schema."
      properties:
        columns:
          type: array
          description: "The properties of each SQL column in the schema."
          items:
            $ref: '#/components/schemas/ColumnDetails'

    ColumnDetails:
      type: object
      description: A column in the results schema.
      required:
        - name
        - type
      properties:
        name:
          type: string
          description: The name of the SQL table column.
          example: "Column_Name"
        type:
          allOf:
            - $ref: '#/components/schemas/DataType'
          description: JSON object in TableSchema format; describes the data returned by the results serving API.
          example:
            type: "CHAR"
            nullable: true
            length: 8

    DataType:
      type: object
      properties:
        type:
          type: string
          description: "The data type of the column."
        nullable:
          type: boolean
          description: "Indicates whether values in this column can be null."
        length:
          type: integer
          format: int32
          description: "The length of the data type."
        precision:
          type: integer
          format: int32
          description: "The precision of the data type."
        scale:
          type: integer
          format: int32
          description: "The scale of the data type."
        key_type:
          allOf:
            - $ref: '#/components/schemas/DataType'
          description: "The type of the key in the data type (if applicable)."
        value_type:
          allOf:
            - $ref: '#/components/schemas/DataType'
          description: "The type of the value in the data type (if applicable)."
        element_type:
          allOf:
            - $ref: '#/components/schemas/DataType'
          description: "The type of the element in the data type (if applicable)."
        fields:
          type: array
          items:
            $ref: '#/components/schemas/RowFieldType'
          description: "The fields of the element in the data type (if applicable)."
        resolution:
          type: string
          description: "The resolution of the data type (if applicable)."
        fractional_precision:
          type: integer
          format: int32
          description: "The fractional precision of the data type (if applicable)."
        class_name:
          type: string
          description: "The class name of the structured data type (if applicable)."
      required:
        - type
        - nullable

    RowFieldType:
      type: object
      properties:
        name:
          type: string
          description: The name of the field.
        field_type:
          allOf:
            - $ref: '#/components/schemas/DataType'
          description: The data type of the field.
        description:
          type: string
          description: The description of the field.
      required:
        - name
        - field_type

    Failure:
      type: object
      description: Provides information about problems encountered while performing an operation.
      required:
        - errors
      properties:
        errors:
          description: List of errors which caused this operation to fail
          type: array
          items:
            $ref: '#/components/schemas/Error'
          uniqueItems: true
    Error:
      type: object
      description: Describes a particular error encountered while performing an operation.
      properties:
        id:
          description: A unique identifier for this particular occurrence of the problem.
          type: string
          maxLength: 255
        status:
          description: The HTTP status code applicable to this problem, expressed as a string value.
          type: string
        code:
          description: An application-specific error code, expressed as a string value.
          type: string
        title:
          description: A short, human-readable summary of the problem. It **SHOULD NOT** change from occurrence to occurrence
            of the problem, except for purposes of localization.
          type: string
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          type: string
        source:
          type: object
          description: If this error was caused by a particular part of the API request, the source will point to the query
            string parameter or request body property that caused it.
          properties:
            pointer:
              description: A JSON Pointer [RFC6901] to the associated entity in the request document [e.g. "/spec" for a spec
                object, or "/spec/title" for a specific field].
              type: string
            parameter:
              description: A string indicating which query parameter caused the error.
              type: string
    sql.v1.StatementWarning:
      type: object
      description: Represents a non-fatal issue encountered during statement processing.
      required:
        - severity
        - created_at
        - reason
        - message
      properties:
        severity:
          $ref: '#/components/schemas/sql.v1.WarningSeverity'
        created_at:
          type: string
          format: date-time
          description: The timestamp when the warning was created. It is represented in RFC3339 format and is in UTC.
          example: '2025-11-10T16:20:00Z'
          readOnly: true
        reason:
          type: string
          description: A machine-readable short, upper case summary delimited by underscore.
          example: MISSING_WINDOW_START_END
        message:
          type: string
          description: A human-readable string containing the description of the warning.
          example: The statement is missing window start and end bounds which may lead to unbounded state growth.

    sql.v1.WarningSeverity:
      type: string
      x-extensible-enum:
        - LOW
        - MODERATE
        - CRITICAL
      description: |
        Indicates the severity of the warning.

        LOW: Indicates a low severity warning and for informing the user.

        MODERATE: Indicates a moderate severity warning and may require user action. Could cause degraded statements if certain conditions apply.

        CRITICAL: Indicates a critical severity warning and requires user action. It will cause degraded statements eventually.
      example: MODERATE

    # Exceptions API Components

    ExceptionListMeta:
      type: object
      description: ListMeta describes metadata that resource collections may have
      properties:
        self:
          description: Self is a Uniform Resource Locator (URL) at which an object can be addressed. This URL encodes the
            service location, API version, and other particulars necessary to locate the resource at a point in time
          type: string
          example: https://flink.us-west1.aws.confluent.cloud/sql/v1/environments/env-123/statements/sql123/exceptions

    sql.v1.StatementExceptionList:
      type: object
      description: |-
        StatementExceptionList is a list of exceptions coming from FAILED or FAILING Statements created by
        the SQL Statements API.
      required:
        - api_version
        - kind
        - metadata
        - data
      properties:
        api_version:
          type: string
          enum:
            - sql/v1
          description: APIVersion defines the schema version of this representation of a resource.
          example: sql/v1
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - StatementExceptionList
        metadata:
          allOf:
            - $ref: '#/components/schemas/ExceptionListMeta'
        data:
          type: array
          description: A data property that contains an array of resource items. Each entry in the array is a separate resource.
          items:
            allOf:
              - $ref: '#/components/schemas/sql.v1.StatementException'

    sql.v1.StatementException:
      type: object
      properties:
        kind:
          type: string
          description: Kind defines the object this REST resource represents.
          enum:
            - StatementException
        name:
          type: string
          description: Name of the SQL statement exception.
          example: java.lang.RuntimeException
          readOnly: true
        message:
          type: string
          description: Error message of the statement exception.
          example: "java.lang.RuntimeException: An error occurred"
          readOnly: true
        timestamp:
          type: string
          format: date-time
          example: '2025-11-10T16:20:00Z'
          description: The date and time at which the exception occurred. It is represented in RFC3339 format and is
            in UTC.
          readOnly: true
      x-enable-objectmeta: true
    PatchRequest:
      type: array
      description: PatchRequest represent a json-patch request to be applied to the Statement. See https://tools.ietf.org/html/rfc6902
      items:
        oneOf:
          - $ref: '#/components/schemas/JsonPatchRequestAddReplace'
          - $ref: '#/components/schemas/JsonPatchRequestRemove'
          - $ref: '#/components/schemas/JsonPatchRequestMoveCopy'
    JsonPatchRequestAddReplace:
      type: object
      description: This option is used to add or replace a value for a field
      additionalProperties: false
      required:
        - value
        - op
        - path
      properties:
        path:
          description: A JSON Pointer path.
          type: string
        value:
          description: The value to add, replace or test.
        op:
          description: The operation to perform.
          type: string
          enum:
            - ADD
            - REPLACE
            - TEST
    JsonPatchRequestRemove:
      type: object
      description: This option is used to remove a field
      additionalProperties: false
      required:
        - op
        - path
      properties:
        path:
          description: A JSON Pointer path.
          type: string
        op:
          description: The operation to perform.
          type: string
          enum:
            - REMOVE
    JsonPatchRequestMoveCopy:
      type: object
      description: This option is used to move or copy a field
      additionalProperties: false
      required:
        - from
        - op
        - path
      properties:
        path:
          description: A JSON Pointer path.
          type: string
        op:
          description: The operation to perform.
          type: string
          enum:
            - MOVE
            - COPY
        from:
          description: A JSON Pointer path.
          type: string

  securitySchemes:
    resource-api-key:
      type: http
      scheme: basic
      description: |
        Authenticate with resource-specific API Keys using HTTP Basic Auth. Treat the resource-specific API Key ID
        as the username and resource-specific API Key Secret as the password.
    external-access-token:
      type: oauth2
      description: Authenticate with OAuth 2.0.
      flows:
        clientCredentials:
          tokenUrl: https://<oauth-identity-provider>/token
          scopes: {}
  responses:
    BadRequestError:
      description: Bad Request
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '400'
                code: invalid_filter
                title: Invalid Filter
                detail: The 'delorean' resource can't be filtered by 'num_doors'
                source:
                  parameter: num_doors
    UnauthenticatedError:
      x-summary: Unauthorized
      description: The request lacks valid authentication credentials for this resource.
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
        WWW-Authenticate:
          schema:
            type: string
          description: The unique identifier for the API request.
          example: Basic error="invalid_key", error_description="The API Key is invalid"
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '401'
                code: user_unauthenticated
                title: Authentication Required
                detail: Valid authentication credentials must be provided
    OverQuotaError:
      x-summary: Over Quota
      description: The request would exceed one or more quotas.
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '402'
                code: quota_exceeded
                title: Kafka Clusters Per Org Quota Exceeded
                detail: 'The request would exceed the quota: kafka_clusters_per_environment'
    UnauthorizedError:
      x-summary: Forbidden
      description: The access credentials were considered insufficient to grant access
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '403'
                code: user_unauthorized
                title: User Access Unauthorized
                detail: The user 'mcfly' is not allowed to access the 'delorean' resource without the 'plutonium' role.
    ConflictError:
      x-summary: Conflict
      description: The request is in conflict with the current server state
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
        Location:
          schema:
            type: string
            format: uri
            example: https://api.confluent.cloud/{object}/{id}
          description: Resource URI of conflicting resource
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '409'
                code: resource_already_exists
                title: Resource Already exists
                detail: The entitlement '91e3e86f-fca6-4f14-98f5-a48e64113ce2' already exists.
    NotFoundError:
      description: Not Found
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '404'
                title: Not Found
    ValidationError:
      description: Validation Failed
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - status: '422'
                code: invalid_configuration
                id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                title: Validation Failed
                detail: "The property '/cluster/storage_size' of type string did not match the following type: integer"
                source:
                  pointer: /cluster/storage_size
    RateLimitError:
      description: Rate Limit Exceeded
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
    DefaultSystemError:
      description: Oops, something went wrong!
      headers:
        X-Request-Id:
          schema:
            type: string
          description: The unique identifier for the API request.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Failure'
          example:
            errors:
              - id: ed42afdc-f0d5-4c0d-b428-9fc6ed6e279d
                status: '500'
                code: out_of_gas
                title: DeLorean Out Of Gas
                detail: The DeLorean has run out of gas, but Doc Brown will fill 'er up for you asap
tags:
  - name: Statements (sql/v1)
    description: |-
      [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

      `Statement` represents a core resource used to model SQL statements for execution.
      A statement generalizes DDL, DML, DQL, etc., but doesnt attempt to handle session
      management or any higher-level functionality.
      The API allows you to list, create, read, and delete your statements.
      ## The Statements Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Statement" />
  - name: Statement Results (sql/v1)
    description: |-
      [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

      `StatementResult` represents a result of a `Statement` resource.
      The API allows you to read your statement's results.
      ## The Statement Results Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.StatementResult" />
  - name: Statement Exceptions (sql/v1)
    description: |-
      [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

      `StatementException` represents an exception of a `Statement` resource.
      The API allows you to read your statement's exceptions.
      ## The Statement Exceptions Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.StatementException" />
  - name: Connections (sql/v1)
    description: |-
      [![General Availability](https://img.shields.io/badge/Lifecycle%20Stage-General%20Availability-%2345c6e8)](#section/Versioning/API-Lifecycle-Policy)

      `Connection` represents a core resource used to model SQL connections for execution.
      A connection generalizes DDL, DML, DQL, etc., but doesnt attempt to handle session
      management or any higher-level functionality.
      The API allows you to list, create, read, and delete your connections.
      ## The Connections Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Connection" />
  - name: Agents (sql/v1)
    description: |-
      [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

      `Agent` models an AI agent that uses a specified model, prompt, and set of tools
      to autonomously perform tasks.
      The API allows you to create your agents.
      ## The Agents Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Agent" />
  - name: Tools (sql/v1)
    description: |-
      [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300afba)](#section/Versioning/API-Lifecycle-Policy)

      `Tool` models a reusable tool resource backed by a connection that can be referenced
      by agents to perform actions.
      The API allows you to create your tools.
      ## The Tools Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.Tool" />
  - name: Materialized Tables (sql/v1)
    description: |-
      [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

      `MaterializedTable` represents a core resource used to define and manage streaming SQL queries that persist results.
      The API allows you to list, create, read, update, and delete your materialized tables.
      ## The Materialized Table Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.MaterializedTable" />
  - name: Materialized Table Versions (sql/v1)
    description: |-
      [![Preview](https://img.shields.io/badge/Lifecycle%20Stage-Preview-%2300af91)](#section/Versioning/API-Lifecycle-Policy)

      `MaterializedTableVersion` represents a specific version of a Materialized Table, capturing the state and changes at that point in time.
      The API allows you to list and read versions of your materialized tables.
      ## The Materialized Table Version Model
      <SchemaDefinition schemaRef="#/components/schemas/sql.v1.MaterializedTableVersion" />