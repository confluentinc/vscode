<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'none'; font-src ${cspSource}; style-src 'nonce-${nonce}'; style-src-attr 'unsafe-inline'; script-src 'nonce-${nonce}' 'unsafe-eval';"
    />
  </head>
  <body>
    <main class="container">
      <h1 data-text="'Set up ' + this.displayName()"></h1>
      <h2 data-text="this.description()"></h2>
      <p>
        Take the first steps in creating a fully functional application by providing the options
        below. You can always change them later in the project file.
      </p>
      <form data-on-submit="this.handleSubmit(event)">
        <template data-if="this.noOptions()">
          <p class="info">
            There are no configurable options for this template. Click Generate & Save to continue.
          </p>
        </template>
        <template data-for="field of this.options()">
          <div class="content-wrapper">
            <template data-if="this.isEnumField(this.field())">
              <div class="input-container">
                <div class="dropdown">
                  <label data-text="this.field()[1].display_name"> </label>
                  <vscode-dropdown
                    data-attr-name="this.field()[0]"
                    data-prop-value="this.field()[1].default_value"
                  >
                    <template data-for="option of this.field()[1]._enum"
                      ><vscode-option
                        data-attr-value="this.option()"
                        data-text="this.option()"
                        data-attr-selected="this.option() === this.field()[1].default_value"
                      ></vscode-option>
                    </template>
                  </vscode-dropdown>
                </div>
                <span class="description" data-text="this.field()[1].description"></span>
              </div>
            </template>
            <template data-if="!this.isEnumField(this.field())">
              <div class="input-container">
                <vscode-text-field
                  size="90"
                  data-text="this.field()[1].display_name"
                  data-attr-id="this.field()[0]"
                  data-attr-name="this.field()[0]"
                  data-attr-value="this.field()[1].default_value ? this.field()[1].default_value : ''"
                  data-attr-required="this.field()[1].default_value == null"
                  data-attr-type="this.field()[1].format === 'password' ? 'password' : 'text'"
                  data-attr-placeholder="this.field()[1].hint ? this.field()[1].hint : ''"
                >
                </vscode-text-field>
                <span class="description" data-text="this.field()[1].description"></span>
              </div>
            </template>
          </div>
        </template>
        <input type="submit" value="Generate & Save" />
      </form>
    </main>

    <script type="module" nonce="${nonce}" src="${webviewUri}"></script>
    <script nonce="${nonce}" src="${submitScriptUri}" type="module"></script>
    <style nonce="${nonce}">
      body {
        max-width: 1000px;
        font-size: 14px;
      }
      .content-wrapper {
        display: contents;
      }
      .container {
        padding: 60px 80px;
        display: flex;
        flex-direction: column;
        gap: 16px;
      }
      .container > * {
        margin: unset;
      }
      h1 {
        font-size: 26px;
      }
      h2 {
        font-size: 16px;
      }
      form {
        display: flex;
        flex-direction: column;
        align-items: start;
        gap: 20px;
        margin-top: 26px;
      }
      .input-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        align-items: center;
        gap: 16px;
        font-weight: 500;
      }
      .dropdown {
        display: flex;
        flex-direction: column;
        gap: 16px;
        align-items: start;
      }
      .description {
        font-weight: 700;
        color: #ccc;
        font-size: 11px;
        padding-top: 1rem;
      }
      .dropdown > label > vscode-dropdown {
        width: 100%;
      }
      .info {
        color: #ccc;
        font-weight: 700;
        font-style: italic;
      }
      input[type="submit"] {
        padding: 0.5rem 1rem;
        background-color: var(--button-primary-background, #0e639c);
        color: var(--button-primary-foreground, white);
        border: none;
        border-radius: 4px;
        cursor: pointer;
      }
      input[type="submit"]:hover {
        background-color: var(--button-primary-hover-background, #1177bb);
      }
    </style>
  </body>
</html>
